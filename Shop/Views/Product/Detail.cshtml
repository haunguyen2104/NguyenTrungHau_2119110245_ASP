@model Shop.Context.Product_2119110245
@{
    ViewBag.Title = Model.Name;
    Layout = "~/Views/Shared/_Layout01.cshtml";
}




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script type="text/javascript">
    $(function () {
        $("#addtocart").click(function () {
            var model = {};
            //lấy id sản phẩm
            model.Id = @Model.Id;
            // lấy số lượng đặt hàng
            if ($("#ipQuantity").val() <= 0) {
                alert("Số lượng không được nhỏ hơn 0")
            } else {
            model.Quantity = $("#ipQuantity").val();
            }
          
            debugger;
            $.ajax({
                type: "POST",
                url: '@Url.Action("AddToCart", "Cart")',
                data:  JSON.stringify(model) ,
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function () {
                    alert("Thêm giỏ hàng thành công!")
                    $('#CartCount').text(@Session["count"] + 1);
                },
                error: function () {
                    alert("Lỗi trong khi thêm vào giỏ hàng!");
                }
            });
            return false;
        });
    });
</script>


<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content bg-white padding-y">
    <div class="container">

        <!-- ============================ ITEM DETAIL ======================== -->
        <div class="row">
            <aside class="col-md-6">
                <div class="card">
                    <article class="gallery-wrap">
                        <div class="img-big-wrap">
                            <div> <a href="#"><img src="~/Public/images/product/@Model.Avatar"></a></div>
                        </div> <!-- slider-product.// -->
                        <div class="thumbs-wrap">
                            <a href="#" class="item-thumb"> <img src="~/Public/images/product/@Model.Avatar"></a>
                            <a href="#" class="item-thumb"> <img src="~/Public/images/product/@Model.Avatar"></a>
                            <a href="#" class="item-thumb"> <img src="~/Public/images/product/@Model.Avatar"></a>
                            <a href="#" class="item-thumb"> <img src="~/Public/images/product/@Model.Avatar"></a>
                        </div> <!-- slider-nav.// -->
                    </article> <!-- gallery-wrap .end// -->
                </div> <!-- card.// -->
            </aside>
            <main class="col-md-6">
                <article class="product-info-aside">

                    <h2 class="title mt-3">@Model.FullName </h2>

                    <div class="rating-wrap my-3">
                        <ul class="rating-stars">
                            <li style="width:90%" class="stars-active">
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </li>
                            <li>
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </li>
                        </ul>
                        <small class="label-rating text-muted">132 reviews</small>
                        <small class="label-rating text-success"> <i class="fa fa-clipboard-check"></i> 154 orders </small>
                    </div> <!-- rating-wrap.// -->

                    @if (Model.PriceDiscount != null)
                    {
                        var rateSale = Model.PriceDiscount / Model.Price * 100 - 100;
                        var sale = Math.Round((float)rateSale, 0);
                        <div class="mb-3">
                            <var class="price h4">@Convert.ToDecimal(@Model.PriceDiscount).ToString("#,##0")<sup>đ</sup> </var>
                            <span class="text-muted"> incl. VAT ( @sale% - Giá gốc: @Convert.ToDecimal(@Model.Price).ToString("#,##0")<sup>đ</sup>)</span>
                        </div> <!-- price-detail-wrap .// --> }
                    else
                    {<div class="mb-3">
                            <var class="price h4">@Convert.ToDecimal(@Model.Price).ToString("#,##0")<sup>đ</sup></var>
                            <span class="text-muted"> incl. VAT</span>
                        </div> <!-- price-detail-wrap .// -->
                    }

                    <p>
                        @Model.ShoetDes

                    </p>


                    <dl class="row">
                        <dt class="col-sm-3">Ngày: </dt>

                        <dd class="col-sm-9"><a href="#">@Convert.ToDateTime(Model.CreatedOnUtc).ToString("hh:mm dddd - dd/MM/yyyy")</a></dd>

                        @*<dt class="col-sm-3">Article number</dt>
        <dd class="col-sm-9">596 065</dd>*@

                        <dt class="col-sm-3">Bảo hành:</dt>
                        <dd class="col-sm-9">2 year</dd>

                        <dt class="col-sm-3">Giao hàng</dt>
                        <dd class="col-sm-9">1-2 ngày</dd>

                        <dt class="col-sm-3">Số lượng</dt>
                        @if (Model.Quantity == null || Model.Quantity < 1)
                        {


                            <dd class="col-sm-9" style="font-weight:bold">Hết hàng</dd>
                        }
                        else
                        {
                            <dd class="col-sm-9">
                                Hàng có sẵn
                                @if (@Model.Quantity.ToString().Length < 2)
                                {
                                    <span>0</span>@Model.Quantity
                                }
                                else
                                {
                                    @Model.Quantity
                                } thiết bị
                            </dd>
                        }
             
                        
                    </dl>

                    <div class="form-row  mt-4">
                        <div class="form-group col-md flex-grow-0" style="max-width:100px; width:100px;">
                            <div class="input-group mb-3 input-spinner" style=" width:80px;" >
                                <input type="number" id="ipQuantity" class="form-control" value="1" min="1" max="20" style="width:70px;max-width:80px;">
                            </div>
                        </div> <!-- col.// -->
                        <div class="form-group col-md">
                            <a href="#" id="addtocart" class="btn  btn-primary">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="text" h>Thêm vào giỏ hàng</span>
                            </a>
                        </div> <!-- col.// -->
                    </div> <!-- row.// -->

                </article> <!-- product-info-aside .// -->
            </main> <!-- col.// -->
        </div> <!-- row.// -->
        <!-- ================ ITEM DETAIL END .// ================= -->


    </div> <!-- container .//  -->
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->
<!-- ========================= SECTION  ========================= -->
<section class="section-name padding-y bg">
    <div class="container">

        <div class="row">
            <div class="col-md-8">
                <h5 class="title-description">Chi tiết</h5>
                <p>@Html.Raw(Model.FullDescription)</p>

                @*<h5 class="title-description">Specifications</h5>*@
                @*<table class="table table-bordered">
                        <tr> <th colspan="2">Basic specs</th> </tr>
                        <tr> <td>Type of energy</td><td>Lava stone</td> </tr>
                        <tr> <td>Number of zones</td><td>2</td> </tr>
                        <tr> <td>Automatic connection	</td> <td> <i class="fa fa-check text-success"></i> Yes </td></tr>

                        <tr> <th colspan="2">Dimensions</th> </tr>
                        <tr> <td>Width</td><td>500mm</td> </tr>
                        <tr> <td>Depth</td><td>400mm</td> </tr>
                        <tr> <td>Height	</td><td>700mm</td> </tr>

                        <tr> <th colspan="2">Materials</th> </tr>
                        <tr> <td>Exterior</td><td>Stainless steel</td> </tr>
                        <tr> <td>Interior</td><td>Iron</td> </tr>

                        <tr> <th colspan="2">Connections</th> </tr>
                        <tr> <td>Heating Type</td><td>Gas</td> </tr>
                        <tr> <td>Connected load gas</td><td>15 Kw</td> </tr>

                    </table>*@
            </div> <!-- col.// -->

            <aside class="col-md-4">
                @*
        <div class="box">

            <h5 class="title-description">Files</h5>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>

            <h5 class="title-description">Videos</h5>


            <article class="media mb-3">
                <a href="#"><img class="img-sm mr-3" src="~/Public/images/posts/3.jpg"></a>
                <div class="media-body">
                    <h6 class="mt-0"><a href="#">How to use this item</a></h6>
                    <p class="mb-2"> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin </p>
                </div>
            </article>

            <article class="media mb-3">
                <a href="#"><img class="img-sm mr-3" src="~/Public/images/posts/2.jpg"></a>
                <div class="media-body">
                    <h6 class="mt-0"><a href="#">New tips and tricks</a></h6>
                    <p class="mb-2"> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin </p>
                </div>
            </article>

            <article class="media mb-3">
                <a href="#"><img class="img-sm mr-3" src="~/Public/images/posts/1.jpg"></a>
                <div class="media-body">
                    <h6 class="mt-0"><a href="#">New tips and tricks</a></h6>
                    <p class="mb-2"> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin </p>
                </div>
            </article>



        </div> <!-- box.// -->
                *@
            </aside> <!-- col.// -->
        </div> <!-- row.// -->

    </div> <!-- container .//  -->
</section>

<!-- ========================= SECTION CONTENT END// ========================= -->
<style>
    .input-spinner input.form-control {
    max-width:100px;
    }
</style>